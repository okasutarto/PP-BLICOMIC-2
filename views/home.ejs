<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <div id="user" data-bulan="Januaryyy" data-user="johndoe" data-date-of-birth>John Doe</div>
    <script>
        const el = document.querySelector('#user').dataset.bulan
        const labels = [
          el,
          'February',
          'March',
          'April',
          'May',
          'June',
        ];
      
        const data = {
          labels: labels,
          datasets: [{
            label: 'My First dataset',
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: [0, 10, 5, 2, 20, 30, 45],
          }]
        };
      
        const config = {
          type: 'line',
          data: data,
          options: {}
        };
      </script>
</head>
<body>
    <div style="width: 500px; height: 500px">
        <canvas id="myChart">
            <script>
                const myChart = new Chart(
                  document.getElementById('myChart'),
                  config
                );
            </script>
        </canvas>
    </div>
    <h1>BLICOMIC 
        <a href="/login"><button>Login</button></a>
        <a href="/register"><button>Register</button></a>
        <a href="/profile/:id"><button>Profile</button></a>
        <a href="/logout"><button>Log Out</button></a>
    </h1>
    <br>
    <p>
        Selamat Datang, Selamat Berbelanja Di BLICOMIC
    </p>
    <form action="/comics" method="get">
        Search By Title: 
        <input type="text" name="search"><br>
        Sort By:
        <select name="sort" id="">
            <option value="" selected disabled hidden>Choose...</option>
            <option value="genre">Genre</option>
            <option value="price">Price</option>
            <option value="stock">Stock</option>
        </select><br>
        <input type="submit">
    </form>
    <br>
    <table border="1">
        <tr>
            <th>No.</th>
            <th>Title</th>
            <th>Description</th>
            <th>Price</th>
            <th>Stock</th>
            <th>Genre</th>
            <th>Jumlah Transaksi</th>
            <th>Total Buy</th>
            <th>Update Stock</th>
            <th>Delete Comic</th>
        </tr>
        <% data.forEach((el, idx) => { %>
            <tr>
                <td><%= idx + 1 %></td>
                <td><%= el.title %></td>
                <td><%= el.description %></td>
                <td><%= el.price %></td>
                <td><%= el.stock %></td>
                <td><%= el.genre %></td>
                <td><%= el.Users.length %></td>
                <td><input type="number"><a href="/comics/buy/<% el.id %>/:idUser"><button>Buy</button></a></td>
                <td>
                    <form action="/comics/updateStock/<%= el.id %>" method="get">
                        <input type="number" name="stock">
                        <input type="submit" value="update">
                    </form>
                </td>
                <td><a href="/comics/delete/<%= el.id %>"><button>Delete</button></a></td>
            </tr>
        <% }) %>
    </table>
</body>
</html>